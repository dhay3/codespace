syntax = "proto2";
import "grpc_service.proto";
package  ifmgr;
message IfmgrInterfaces {
    message Interface {
        optional uint32 IfIndex = 1;
        optional string Name = 2;
        optional string Description = 3;
        optional uint32 AdminStatus = 4;
        optional string InetAddressIPV4 = 5;
        optional string InetAddressIPV4Mask = 6;
    }
    repeated Interface interface = 1;
}
message IfmgrTypeCapabilities {
    message Capability {
        optional uint32 IfTypeExt = 1;
        optional uint32 MinNum = 2;
        optional uint32 MaxNum = 3;
        optional uint32 MinSubNum = 4;
        optional uint32 MaxSubNum = 5;
        optional uint32 MaxCreateNum = 6;
        optional uint32 MaxCreateSubNum = 7;
    }
    repeated Capability capability = 1;
}
message InterfaceEvent {
    message Interface {
        optional string Name = 1;
        optional string Status = 2;
        optional string Description = 3;
        optional int32 IfIndex = 4;
        optional string AdminStatus = 5;
        optional string OperStatus = 6;
    }
    repeated Interface interface = 1;
}
message InterfaceBandWidthEvent {
    message InterfaceBandWidth {
        optional int32 IfIndex = 1;
        optional string Name = 2;
        optional int32 CFGBandWidth = 3;
        optional string Description = 4;
    }
    repeated InterfaceBandWidth interfacebandwidth = 1;
}
message InterfaceSpeedEvent {
    message InterfaceSpeed {
        optional int32 IfIndex = 1;
        optional string Name = 2;
        optional int32 BandWidth = 3;
        optional string Description = 4;
    }
    repeated InterfaceSpeed interfacespeed = 1;
}
message EventStream {
    optional string stream_name = 1;
}
service IfmgrService {
    rpc GetJsonIfmgrInterfaces(IfmgrInterfaces) returns (grpc_service.GetJsonReply) {}
    rpc GetJsonIfmgrTypeCapabilities(IfmgrTypeCapabilities) returns (grpc_service.GetJsonReply) {}
    rpc SubscribeInterfaceEvent(InterfaceEvent) returns (grpc_service.SubscribeReply) {}
    rpc SubscribeInterfaceBandWidthEvent(InterfaceBandWidthEvent) returns (grpc_service.SubscribeReply) {}
    rpc SubscribeInterfaceSpeedEvent(InterfaceSpeedEvent) returns (grpc_service.SubscribeReply) {}
    rpc SubscribeEventStream(EventStream) returns (grpc_service.SubscribeReply) {}
}

